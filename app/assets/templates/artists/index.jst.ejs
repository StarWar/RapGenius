<% var artistNum = 0 %>
<% var colCount = 0 %>
<% while (artistNum < artists.length) { %>
  <div class="row">
    <% if (artists.length - artistNum >= 3) { %>
      <% colCount = 3 %>
    <% } else { %>
      <% colCount = artists.length - artistNum %>
    <% } %>
    <% for (var i = 0; i < colCount; i++) { %>
        
      
    <a class="col-xs-4 thumbnail" href="<%= '#/artists/' + artists.models[artistNum + i].get('id') %>">
      <div class="col-xs-4">
        <img src="<%= artists.models[artistNum + i].get('image_url') %>">
        </img>
      </div>
      <div class="col-xs-8">
        <div class="row" id="artist_name_show">         
          <h4><%= artists.models[artistNum + i].get('artistname') %></h4>
        </div>
        <div class="row artist_iq">
          <h4><%= artists.models[artistNum + i].attributes.tracks.length %></h4>
        </div>
      </div>
    </a>
    
    <% } %>
  </div>
   
  <% artistNum += colCount %>
<% } %>